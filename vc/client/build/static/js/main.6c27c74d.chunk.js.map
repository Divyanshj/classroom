{"version":3,"sources":["components/Main/image1.svg","socket.js","components/Main/Heading.js","components/Main/Main.js","components/Video/VideoCard.js","components/Room/ChatOption.js","components/Room/CallOption.js","components/Room/Room.js","App.js","index.js"],"names":["module","exports","socket","io","useStyles","makeStyles","theme","title","flexGrow","fontFamily","fontSize","color","main","backgroundColor","borderRadius","padding","button","textTransform","marginLeft","meetingID","marginRight","Heading","props","Container","body","display","paddingTop","paper","background","textAlign","mainTitle","paddingBottom","paddingLeft","paddingRight","meetingStart","inputBox","marginTop","outline","start","marginBottom","label","Main","classes","roomRef","useRef","userRef","useState","err","setErr","errMsg","setErrMsg","React","inp","setInp","setInput","useEffect","on","clients","userName","socketList","error","forEach","client","roomName","current","value","sessionStorage","setItem","history","push","className","meeting","Grid","container","spacing","item","xs","Paper","style","Typography","variant","noWrap","Button","size","onClick","ref","emit","roomId","VideoCard","videoRef","peer","width","stream","srcObject","playsInline","autoPlay","backgroundSize","overflow","chatHeading","chatBox","icon","verticalAlign","messageBox","height","overflowY","sendBox","message","margin","sent","received","ChatOption","roomID","currentUser","getItem","msg","setMsg","messagesEndRef","inputRef","sender","msgs","map","IDx","key","float","clear","onKeyUp","eve","target","placeholder","moment","Date","today1","toLocaleDateString","day","month","today2","weekday","root","button1","date","CallOption","toggleCameraAudio","data-switch","userVideoAudio","audio","video","leave","endCall","goToBack","grandParent","flexDirection","parent","justifyContent","flexWrap","child","position","writeName","zIndex","parentbig","childbig","writeNamebig","meetingEnd","meetingEndTitle","Room","peers","setPeers","localUser","setUserVideoAudio","setVideo","setLeave","peersRef","userVideoRef","userStream","match","params","findPeer","id","find","p","peerID","createVideo","index","videoHolder","userNameCust","hasOwnProperty","writeUserName","window","addEventListener","navigator","mediaDevices","getUserMedia","then","peer_array","userId","caller","Peer","initiator","trickle","config","iceServers","urls","url","username","credential","signal","userToCall","from","destroy","createPeer","preList","info","incomingSignal","callerId","to","addPeer","users","answerId","peerIDs","filter","user","switchTarget","disconnect","e","preventDefault","removeItem","location","href","room","sm","currentTarget","getAttribute","console","log","videoSwitch","audioSwitch","getVideoTracks","enabled","userAudioTrack","getAudioTracks","length","muted","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c27c74d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image1.f142bb56.svg\";","import io from 'socket.io-client';\r\nconst socket = io('/');\r\nexport default socket;\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Toolbar,\r\n  Container\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n    fontFamily: \"'Pacifico', cursive\",\r\n    fontSize: \"2.2rem\",\r\n    color: \"#B3B3B3\"\r\n  },\r\n  main: {\r\n    backgroundColor: \"#FFFFFF\",\r\n    borderRadius: \"15px\",\r\n    padding: \"10px\"\r\n  },\r\n  button: {\r\n    backgroundColor: \"#404040\",\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.1rem\",\r\n    borderRadius: \"10px\",\r\n    textTransform: \"none\",\r\n    marginLeft: \"15px\"\r\n  },\r\n  meetingID: {\r\n    color: \"#FFFFFFF\",\r\n    marginLeft: \"14px\",\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    fontSize: \"1rem\",\r\n    marginRight: \"14px\"\r\n  }\r\n}));\r\n\r\nfunction Heading(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <Container>\r\n\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Heading;\r\n","import React, { useRef, useState, useEffect } from 'react';\r\nimport socket from '../../socket';\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Paper, Grid, Typography, Button} from \"@material-ui/core\";\r\nimport HomeImage from \"./image1.svg\";\r\nimport Heading from \"./Heading\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    display: \"block\",\r\n    paddingTop: \"10px\",\r\n    backgroundColor: \"#FFFFFF\"\r\n  },\r\n  paper: {\r\n    marginRight:\"100px\",\r\n    marginLeft: \"100px\",\r\n    background: \"#e0e0e0\",\r\n    textAlign: \"center\"\r\n  },\r\n  mainTitle: {\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    color: \"#B3B3B3\",\r\n    textAlign: \"center\",\r\n    fontSize: \"4rem\",\r\n    paddingTop: \"20px\",\r\n    paddingBottom: \"20px\",\r\n    paddingLeft: \"50px\",\r\n    paddingRight: \"50px\"\r\n  },\r\n  meetingStart: {\r\n    padding: \"10px\",\r\n    paddingLeft: \"20px\",\r\n    paddingRight: \"20px\",\r\n    borderRadius: \"20px\",\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    color: \"#000000\",\r\n    fontSize: \"2rem\"\r\n  },\r\n  inputBox: {\r\n    backgroundColor: \"#404040\",\r\n    marginTop: \"10px\",\r\n    borderRadius: \"20px\",\r\n    paddingLeft: \"20px\",\r\n    paddingTop: \"8px\",\r\n    paddingBottom: \"8px\",\r\n    color: \"#B3B3B3\",\r\n    outline: \"none\"\r\n  },\r\n  start: {\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.1rem\",\r\n    borderRadius: \"20px\",\r\n    textTransform: \"none\",\r\n    marginTop: \"20px\",\r\n    marginBottom: \"20px\"\r\n  },\r\n  label: {\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    color: \"#B3B3B3\",\r\n    marginRight: \"15px\"\r\n  }\r\n}));\r\n\r\n\r\nfunction Main(props) {\r\n  const classes = useStyles();\r\n\r\n  const roomRef = useRef();\r\n  const userRef = useRef();\r\n  const [err, setErr] = useState(false);\r\n  const [errMsg, setErrMsg] = useState('');\r\n  const [inp, setInp] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    socket.on('errorUserExists', ({clients, userName, socketList}) => {\r\n      let error = false;\r\n      clients.forEach((client) => {\r\n        if (socketList[client].userName === userName) {\r\n          error = true;\r\n        }\r\n      });\r\n      if (!error) {\r\n        const roomName = roomRef.current.value;\r\n        const userName = userRef.current.value;\r\n\r\n        sessionStorage.setItem('user', userName);\r\n        props.history.push(`/room/${roomName}`);\r\n      } else {\r\n        setErr(error);\r\n        setErrMsg('User name already exist');\r\n      }\r\n    });\r\n  }, [props.history]);\r\n\r\n  function clickJoin() {\r\n    const roomName = roomRef.current.value;\r\n    const userName = userRef.current.value;\r\n\r\n    if (!roomName || !userName) {\r\n      setErr(true);\r\n      setErrMsg('Enter Room Name or User Name');\r\n    } else {\r\n      socket.emit('checkUser', { roomId: roomName, userName });\r\n    }\r\n  }\r\n  function setInput() {\r\n    setInp(true);\r\n  }\r\n\r\n\r\n  return (\r\n      <div className={classes.body}>\r\n      <Heading meeting={false} />\r\n      <Grid container spacing={1}>\r\n\r\n        <Grid item xs={6}>\r\n          <Paper\r\n            className={classes.paper}\r\n            style={{\r\n              marginRight: \"100px\",\r\n              marginLeft: \"100p\",\r\n              backgroundColor: \"#ffffff\",\r\n              paddingBottom: \"10px\"\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                backgroundColor: \"#FFFFFF\",\r\n                display: \"inline-flex\",\r\n                marginTop: \"30px\",\r\n                borderRadius: \"30px\",\r\n                marginBottom: \"20px\"\r\n              }}\r\n            >\r\n              <Typography\r\n                variant=\"body1\"\r\n                className={classes.meetingStart}\r\n                noWrap\r\n              >\r\n                Start VideoCall !!\r\n              </Typography>\r\n            </div>\r\n            <br />\r\n            <Button\r\n              size=\"large\"\r\n              className={classes.start}\r\n              display=\"inline\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              style={{ marginRight: \"15px\" }}\r\n              onClick={setInput}\r\n            >\r\n              New Call\r\n            </Button>\r\n            <Button\r\n              size=\"large\"\r\n              className={classes.start}\r\n              display=\"inline\"\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              style={{ marginLeft: \"15px\" }}\r\n              onClick={setInput}\r\n            >\r\n              Join Call\r\n            </Button>\r\n            {inp ? (\r\n              <div>\r\n                <span className={classes.label}> Name : </span>\r\n                <input\r\n                  className={classes.inputBox}\r\n                  ref={userRef}\r\n                  style={{marginLeft: \"12px\"}}\r\n                />\r\n                <br />\r\n                <span className={classes.label}> RoomId : </span>\r\n                <input\r\n                  className={classes.inputBox}\r\n                  ref={roomRef}\r\n                />\r\n                <br />\r\n                <Button\r\n                  size=\"large\"\r\n                  className={classes.start}\r\n                  display=\"inline\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  style={{ marginRight: \"15px\" }}\r\n                  onClick={clickJoin}\r\n                >\r\n                  Les Go !!\r\n                </Button>\r\n                {err ? (\r\n                  <p>{errMsg}</p>):(\r\n                    null)}\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useEffect, useRef } from 'react';\r\n\r\nfunction VideoCard(props){\r\n  const videoRef = useRef();\r\n  const peer = props.peer;\r\n  const width = props.width\r\n\r\n  useEffect(() => {\r\n    peer.on('stream', (stream) => {\r\n      videoRef.current.srcObject = stream;\r\n    });\r\n  }, [peer]);\r\n\r\n  return (\r\n    <video\r\n      playsInline\r\n      autoPlay\r\n      ref={videoRef}\r\n      style={{backgroundSize: \"cover\", overflow: \"hidden\", width: width}}\r\n    />\r\n  );\r\n};\r\n\r\n\r\nexport default VideoCard;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Paper, Typography } from \"@material-ui/core\";\r\n\r\nimport MessageIcon from \"@material-ui/icons/Message\";\r\nimport socket from '../../socket';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    backgroundColor: \"#282828\",\r\n    borderRadius: \"50px\",\r\n    marginTop: \"15px\",\r\n    paddingTop: \"10px\"\r\n  },\r\n  chatHeading: {\r\n    backgroundColor: \"#404040\",\r\n    padding: theme.spacing(1),\r\n    textAlign: \"center\",\r\n    borderRadius: \"30px\",\r\n    marginTop: \"15px\",\r\n    paddingBottom: \"5px\"\r\n  },\r\n  chatBox: {\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.4rem\",\r\n    color: \"#B3B3B3\",\r\n    marginBottom: \"10px\",\r\n    display: \"inline-block\"\r\n  },\r\n  icon: {\r\n    color: \"#B3B3B3\",\r\n    textAlign: \"center\",\r\n    marginRight: \"10px\",\r\n    verticalAlign: \"middle\"\r\n  },\r\n  messageBox: {\r\n    backgroundColor: \"#404040\",\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"30px\",\r\n    marginTop: \"20px\",\r\n    height: \"400px\",\r\n    overflowY: \"auto\"\r\n  },\r\n\r\n  inputBox: {\r\n    backgroundColor: \"#282828\",\r\n    color: \"#B3B3B3\",\r\n    borderRadius: \"20px\",\r\n    padding: \"15px\",\r\n    width: \"320px\",\r\n    outline: \"none\",\r\n    marginBottom: \"15px\"\r\n  },\r\n  sendBox: {\r\n    marginTop: \"30px\",\r\n    textAlign: \"center\"\r\n  },\r\n  message: {\r\n    color: \"#B3B3B3\",\r\n    backgroundColor: \"#282828\",\r\n    display: \"inline-block\",\r\n    marginBottom: \"10px\",\r\n    padding: \"10px\",\r\n    borderRadius: \"20px\"\r\n  },\r\n  title: {\r\n    fontSize: \"0.6rem\",\r\n    margin: 0,\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n  },\r\n  body: {\r\n    margin: \"1px\",\r\n    fontSize: \"1rem\",\r\n    fontFamily: \"'Montserrat', sans-serif\"\r\n  },\r\n  sent: {\r\n    textAlign: \"right\"\r\n  },\r\n  received: {\r\n    textAlign: \"left\"\r\n  }\r\n}));\r\n\r\nfunction ChatOption(props){\r\n  const roomID = props.roomID;\r\n  const currentUser = sessionStorage.getItem('user')\r\n  const [msg, setMsg] = useState([])\r\n\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    socket.on('receiveMessage', ({ msg, sender }) => {\r\n      setMsg((msgs) => [...msgs, { sender, msg }]);\r\n    });\r\n  }, [])\r\n\r\n  function sendMessage(eve){\r\n    if(eve.key === 'Enter'){\r\n      const msg = eve.target.value\r\n\r\n      if(msg){\r\n        socket.emit('sendMessage',{ roomID, msg, sender: currentUser })\r\n        inputRef.current.value = ''\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Paper className={classes.chatHeading}>\r\n        <MessageIcon fontSize=\"large\" className={classes.icon} />\r\n        <Typography variant=\"body1\" className={classes.chatBox}>\r\n          Messages\r\n        </Typography>\r\n      </Paper>\r\n      <div className={classes.messageBox}>\r\n      {\r\n        msg && msg.map(({sender, msg}, IDx) => {\r\n          if(sender === currentUser)\r\n          {\r\n            return (\r\n              <div className={classes.sent} key={IDx}>\r\n                <div className={classes.message}>\r\n                  <p className={classes.title}>{sender}</p>\r\n                  <p className={classes.body}>{msg}</p>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n          else {\r\n            return (\r\n              <div className={classes.received}>\r\n                <div className={classes.message}>\r\n                  <p className={classes.title}>{sender}</p>\r\n                  <p className={classes.body}>{msg}</p>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n        })\r\n      }\r\n      <div style={{float:'left', clear: 'both'}} ref={messagesEndRef} />\r\n      </div>\r\n      <div className={classes.sendBox}>\r\n        <input className={classes.inputBox} ref={inputRef} onKeyUp={sendMessage} placeholder=\"Press Enter to send Message\"/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatOption;\r\n","import React from \"react\";\r\nimport { Paper, Button, Typography } from \"@material-ui/core\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\n// import ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nconst moment = new Date();\r\nconst option1 = { day: \"numeric\", month: \"short\" };\r\nconst option2 = { weekday: \"long\" };\r\nconst today1 = moment.toLocaleDateString(\"en-US\", option1);\r\nconst today2 = moment.toLocaleDateString(\"en-US\", option2);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingBottom: \"30px\",\r\n    marginBottom: \"15px\"\r\n  },\r\n  paper: {\r\n    backgroundColor: \"#FFFFFF\",\r\n    paddingLeft: \"23px\",\r\n    marginTop: \"15px\",\r\n    paddingTop: \"10px\"\r\n  },\r\n  button: {\r\n    padding: \"15px\",\r\n    borderRadius: \"100%\",\r\n    backgroundColor: \"#B3B3B3\",\r\n    color: \"#282828\",\r\n    marginTop: \"30px\"\r\n  },\r\n  button1: {\r\n    padding: \"15px\",\r\n    borderRadius: \"100%\",\r\n    marginTop: \"30px\"\r\n  },\r\n  date: {\r\n    textAlign: \"center\",\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.4rem\"\r\n  }\r\n}));\r\nfunction CallOption(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h6\" className={classes.date}>\r\n        {today1},\r\n      </Typography>\r\n      <Typography variant=\"h6\" className={classes.date}>\r\n        {today2}\r\n      </Typography>\r\n      <Paper className={classes.paper} style={{ marginTop: \"40px\" }}>\r\n        <div className={classes.root}>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.button}\r\n            onClick={props.toggleCameraAudio}\r\n            data-switch='audio'\r\n            title=\"Toggle Audio\"\r\n          >\r\n            {props.userVideoAudio.audio ? (\r\n              <MicIcon fontSize=\"large\" />\r\n            ) : (\r\n              <MicOffIcon fontSize=\"large\" />\r\n            )}\r\n          </Button>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.button}\r\n            data-switch='video'\r\n            onClick={props.toggleCameraAudio}\r\n            title=\"Toggle Video\"\r\n          >\r\n          {props.userVideoAudio.video ? (\r\n              <VideocamIcon fontSize=\"large\" />\r\n            ) : (\r\n              <VideocamOffIcon fontSize=\"large\" />\r\n            )}\r\n          </Button>\r\n          {\r\n            props.leave ? (\r\n              <Button\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button1}\r\n                onClick={props.endCall}\r\n                title=\"Leave Room\"\r\n              >\r\n                <ExitToAppIcon fontSize=\"large\" />\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button1}\r\n                onClick={props.goToBack}\r\n                title=\"Leave Video\"\r\n              >\r\n                <CallEndIcon fontSize=\"large\" />\r\n              </Button>\r\n            )\r\n          }\r\n\r\n          {/* <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button1}\r\n          >\r\n            <ScreenShareIcon fontSize=\"large\" />\r\n          </Button> */}\r\n        </div>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CallOption;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport Peer from 'simple-peer';\r\nimport socket from '../../socket';\r\nimport VideoCard from '../Video/VideoCard';\r\nimport ChatOption from './ChatOption';\r\nimport Heading from \"../Main/Heading\"\r\nimport CallOption from \"./CallOption\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  grandParent: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\"\r\n  },\r\n  root: {\r\n    backgroundColor: \"#ffffff\",\r\n    padding: \"15px\"\r\n\r\n  },\r\n  parent: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    flexWrap: \"wrap\",\r\n    backgroundColor: \"#ffffff\",\r\n    paddingTop: \"150px\"\r\n\r\n  },\r\n  child: {\r\n    backgroundColor: \"#ffffff\",\r\n    height: \"350px\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    width: \"430px\",\r\n    justifyContent: \"center\",\r\n    marginRight: \"20px\",\r\n    marginBottom: \"20px\"\r\n  },\r\n  writeName: {\r\n    position: \"absolute\",\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    fontSize: \"1.5rem\",\r\n    zIndex: \"1\",\r\n    backgroundColor: \"#282828\",\r\n    height: \"180px\",\r\n    width: \"380px\",\r\n    textAlign: \"center\",\r\n    paddingTop: \"150px\"\r\n  },\r\n    parentbig: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"center\",\r\n    flexWrap: \"wrap\",\r\n    backgroundColor: \"#181818\",\r\n    paddingTop: \"10px\"\r\n\r\n  },\r\n  childbig: {\r\n    backgroundColor: \"#282828\",\r\n    height: \"270px\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    width: \"360px\",\r\n    justifyContent: \"center\",\r\n    marginRight: \"20px\",\r\n    marginBottom: \"20px\"\r\n  },\r\n  writeNamebig: {\r\n    position: \"absolute\",\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    fontSize: \"1.5rem\",\r\n    zIndex: \"1\",\r\n    backgroundColor: \"#282828\",\r\n    height: \"150px\",\r\n    width: \"350px\",\r\n    textAlign: \"center\",\r\n    paddingTop: \"120px\"\r\n  },\r\n  meetingEnd: {\r\n    backgroundColor: \"#181818\",\r\n    padding: \"50px\",\r\n    textAlign: \"center\"\r\n  },\r\n  meetingEndTitle: {\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    fontSize: \"2rem\",\r\n  }\r\n});\r\n\r\nfunction Room(props){\r\n  const classes = useStyles();\r\n\r\n  const [peers, setPeers] = useState([]);\r\n  const [userVideoAudio, setUserVideoAudio] = useState({\r\n    localUser: { video: true, audio: true },\r\n  });\r\n\r\n  // const [displayChat, setDisplayChat] = useState(false);\r\n  const [video, setVideo] = useState(true);\r\n  const [leave, setLeave] = useState(false);\r\n\r\n  const peersRef = useRef([]);\r\n  const userVideoRef = useRef();\r\n\r\n  const userStream = useRef();\r\n\r\n  const roomID = props.match.params.roomID;\r\n  const currentUser = sessionStorage.getItem('user');\r\n\r\n  useEffect(() => {\r\n\r\n    // Set Back Button Event\r\n    window.addEventListener('popstate', endCall);\r\n\r\n    // Connect Camera & Mic\r\n    navigator.mediaDevices\r\n      .getUserMedia({ video: true, audio: true })\r\n      .then((stream) => {\r\n        userVideoRef.current.srcObject = stream;\r\n        userStream.current = stream;\r\n\r\n        socket.emit('joinRoom', { roomID, userName: currentUser });\r\n        socket.on('userJoin', ({clients, socketList}) => {\r\n          const peer_array = [];\r\n\r\n          clients.forEach((client) => {\r\n            let userId = client\r\n            let userName = socketList[client].userName;\r\n            let video = socketList[client].video\r\n            let audio = socketList[client].audio\r\n\r\n            if (userName !== currentUser) {\r\n              const peer = createPeer(userId, socket.id, stream);\r\n\r\n              peer.userName = userName;\r\n              peer.peerID = userId;\r\n              peersRef.current.push({\r\n                peerID: userId,\r\n                peer,\r\n                userName,\r\n              });\r\n\r\n              peer_array.push(peer);\r\n\r\n              setUserVideoAudio((preList) => {\r\n                return {\r\n                  ...preList,\r\n                  [peer.userName]: { video, audio },\r\n                };\r\n              });\r\n            }\r\n          });\r\n\r\n          setPeers(peer_array);\r\n        });\r\n\r\n        socket.on('receiveCall', ({ signal, from, info }) => {\r\n          let userName = info.userName;\r\n          let video = info.video\r\n          let audio = info.audio\r\n\r\n          const peerIDs = findPeer(from);\r\n          if (!peerIDs) {\r\n            const peer = addPeer(signal, from, stream);\r\n\r\n            peer.userName = userName;\r\n            peersRef.current.push({\r\n              peerID: from,\r\n              peer,\r\n              userName: userName,\r\n            });\r\n\r\n            setPeers((users) => {\r\n              return [...users, peer];\r\n            });\r\n\r\n            setUserVideoAudio((preList) => {\r\n              return {\r\n                ...preList,\r\n                [peer.userName]: { video, audio },\r\n              };\r\n            });\r\n          }\r\n        });\r\n\r\n        socket.on('callAccepted', ({ signal, answerId }) => {\r\n          const peerIDs = findPeer(answerId);\r\n          peerIDs.peer.signal(signal);\r\n        });\r\n\r\n        socket.on('userLeave', ({ userId }) => {\r\n          const peerIDs = findPeer(userId);\r\n          peerIDs.peer.destroy();\r\n          setPeers((users) => {\r\n            users = users.filter((user) => user.peerID !== peerIDs.peer.peerID);\r\n            return [...users];\r\n          });\r\n        });\r\n      });\r\n\r\n    socket.on('toggleVideo', ({ userId, switchTarget }) => {\r\n      const peerIDs = findPeer(userId);\r\n\r\n      setUserVideoAudio((preList) => {\r\n        let video = preList[peerIDs.userName].video;\r\n        let audio = preList[peerIDs.userName].audio;\r\n\r\n        if (switchTarget === 'video') video = !video;\r\n        else audio = !audio;\r\n\r\n        return {\r\n          ...preList,\r\n          [peerIDs.userName]: { video, audio },\r\n        };\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  function createPeer(userId, caller, stream) {\r\n    const peer = new Peer({\r\n      initiator: true,\r\n      trickle: false,\r\n      stream,\r\n      config: {\r\n        iceServers: [{\r\n          urls: [ \"stun:bn-turn1.xirsys.com\" ]\r\n       },\r\n       {url:'stun:stun01.sipphone.com'},\r\n       {url:'stun:stun.ekiga.net'},\r\n       {url:'stun:stun.fwdnet.net'},\r\n       {url:'stun:stun.ideasip.com'},\r\n       {url:'stun:stun.iptel.org'},\r\n       {url:'stun:stun.rixtelecom.se'},\r\n       {url:'stun:stun.schlund.de'},\r\n       {url:'stun:stun.l.google.com:19302'},\r\n       {url:'stun:stun1.l.google.com:19302'},\r\n       {url:'stun:stun2.l.google.com:19302'},\r\n       {url:'stun:stun3.l.google.com:19302'},\r\n       {url:'stun:stun4.l.google.com:19302'},\r\n       {url:'stun:stunserver.org'},\r\n       {url:'stun:stun.softjoys.com'},\r\n       {url:'stun:stun.voiparound.com'},\r\n       {url:'stun:stun.voipbuster.com'},\r\n       {url:'stun:stun.voipstunt.com'},\r\n       {url:'stun:stun.voxgratia.org'},\r\n       {url:'stun:stun.xten.com'},\r\n        {\r\n          username: \"yq_BxvdCMrMv110BQ2bGPCD655MPBLy8UcPGPIS94u2JQdC3_xZqU_lfu1onKQ3gAAAAAGDR8wBjcnV5ZmZlc3Np\",\r\n          credential: \"c92f9d3e-d365-11eb-8c7b-0242ac140004\",\r\n          urls: [\r\n              \"turn:bn-turn1.xirsys.com:80?transport=udp\",\r\n              \"turn:bn-turn1.xirsys.com:3478?transport=udp\",\r\n              \"turn:bn-turn1.xirsys.com:80?transport=tcp\",\r\n              \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\r\n              \"turns:bn-turn1.xirsys.com:443?transport=tcp\",\r\n              \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"\r\n          ]\r\n       }]\r\n      }\r\n    });\r\n\r\n    peer.on('signal', (signal) => {\r\n      socket.emit('callUser', {\r\n        userToCall: userId,\r\n        from: caller,\r\n        signal,\r\n      });\r\n    });\r\n    peer.on('disconnect', () => {\r\n      peer.destroy();\r\n    });\r\n\r\n    return peer;\r\n  }\r\n\r\n\r\n  function addPeer(incomingSignal, callerId, stream) {\r\n    const peer = new Peer({\r\n      initiator: false,\r\n      trickle: false,\r\n      stream,\r\n      config: {\r\n        iceServers: [{\r\n          urls: [ \"stun:bn-turn1.xirsys.com\" ]\r\n       },\r\n       {url:'stun:stun01.sipphone.com'},\r\n       {url:'stun:stun.ekiga.net'},\r\n       {url:'stun:stun.fwdnet.net'},\r\n       {url:'stun:stun.ideasip.com'},\r\n       {url:'stun:stun.iptel.org'},\r\n       {url:'stun:stun.rixtelecom.se'},\r\n       {url:'stun:stun.schlund.de'},\r\n       {url:'stun:stun.l.google.com:19302'},\r\n       {url:'stun:stun1.l.google.com:19302'},\r\n       {url:'stun:stun2.l.google.com:19302'},\r\n       {url:'stun:stun3.l.google.com:19302'},\r\n       {url:'stun:stun4.l.google.com:19302'},\r\n       {url:'stun:stunserver.org'},\r\n       {url:'stun:stun.softjoys.com'},\r\n       {url:'stun:stun.voiparound.com'},\r\n       {url:'stun:stun.voipbuster.com'},\r\n       {url:'stun:stun.voipstunt.com'},\r\n       {url:'stun:stun.voxgratia.org'},\r\n       {url:'stun:stun.xten.com'},\r\n        {\r\n          username: \"yq_BxvdCMrMv110BQ2bGPCD655MPBLy8UcPGPIS94u2JQdC3_xZqU_lfu1onKQ3gAAAAAGDR8wBjcnV5ZmZlc3Np\",\r\n          credential: \"c92f9d3e-d365-11eb-8c7b-0242ac140004\",\r\n          urls: [\r\n              \"turn:bn-turn1.xirsys.com:80?transport=udp\",\r\n              \"turn:bn-turn1.xirsys.com:3478?transport=udp\",\r\n              \"turn:bn-turn1.xirsys.com:80?transport=tcp\",\r\n              \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\r\n              \"turns:bn-turn1.xirsys.com:443?transport=tcp\",\r\n              \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"\r\n          ]\r\n       }]\r\n      }\r\n    });\r\n\r\n    peer.on('signal', (signal) => {\r\n      socket.emit('acceptCall', { signal, to: callerId });\r\n    });\r\n\r\n    peer.on('disconnect', () => {\r\n      peer.destroy();\r\n    });\r\n\r\n    peer.signal(incomingSignal);\r\n\r\n    return peer;\r\n  }\r\n\r\n  function findPeer(id) {\r\n    return peersRef.current.find((p) => p.peerID === id);\r\n  }\r\n\r\n  function createVideo(peer, index, width, videoHolder, userNameCust)\r\n  {\r\n    return (\r\n      <div className={videoHolder} key={index}>\r\n        {writeUserName(peer.userName,userNameCust, index)}\r\n        <VideoCard key={index} peer={peer} width={width} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  function writeUserName(userName, userNameCust, index) {\r\n    if (userVideoAudio.hasOwnProperty(userName)) {\r\n      if (!userVideoAudio[userName].video) {\r\n          return <div className={userNameCust} key={userName}>{userName}</div>;\r\n      }\r\n    }\r\n  }\r\n\r\n  const goToBack = (e) => {\r\n    e.preventDefault();\r\n    setVideo(false)\r\n    setLeave(true)\r\n    socket.emit('leaveRoom', { roomID });\r\n  };\r\n\r\n  const endCall = (e) => {\r\n    e.preventDefault();\r\n    socket.emit('finish', {roomID})\r\n    sessionStorage.removeItem('user');\r\n    window.location.href = '/'\r\n  }\r\n\r\n  const toggleCameraAudio = (e) => {\r\n    const target = e.currentTarget.getAttribute('data-switch');\r\n    console.log(e.currentTarget.getAttribute('data-switch'))\r\n\r\n\r\n    setUserVideoAudio((preList) => {\r\n      let videoSwitch = preList['localUser'].video;\r\n      let audioSwitch = preList['localUser'].audio;\r\n\r\n      if (target === 'video') {\r\n        const userVideoTrack = userVideoRef.current.srcObject.getVideoTracks()[0];\r\n        videoSwitch = !videoSwitch;\r\n        userVideoTrack.enabled = videoSwitch;\r\n      } else {\r\n        const userAudioTrack = userVideoRef.current.srcObject.getAudioTracks()[0];\r\n        audioSwitch = !audioSwitch;\r\n\r\n        if (userAudioTrack) {\r\n          userAudioTrack.enabled = audioSwitch;\r\n        } else {\r\n          userStream.current.getAudioTracks()[0].enabled = audioSwitch;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...preList,\r\n        localUser: { video: videoSwitch, audio: audioSwitch },\r\n      };\r\n    });\r\n\r\n    socket.emit('toggle', { roomID, switchTarget: target });\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n    <Heading meeting={true} room={roomID} />\r\n    <div>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={6} sm={1}>\r\n          <CallOption goToBack={goToBack} toggleCameraAudio={toggleCameraAudio} userVideoAudio={userVideoAudio['localUser']} endCall={endCall} leave={leave}/>\r\n        </Grid>\r\n        <Grid item xs={6} sm={8}>\r\n          <div className={classes.grandParent}>\r\n          {\r\n            !peers || peers.length < 2 ? (\r\n              <div className={classes.parent}>\r\n              {\r\n                video ?\r\n                (<div className={classes.child}>\r\n                  {\r\n                    userVideoAudio['localUser'].video ? null : (<div className={classes.writeName}>{currentUser}</div>)\r\n                  }\r\n                  <video style={{backgroundSize: \"cover\", overflow: \"hidden\", width: \"380px\"}} ref={userVideoRef} autoPlay muted></video>\r\n                  </div>\r\n                ) : (\r\n                  <div className={classes.meetingEnd}>\r\n                  <p className={classes.meetingEndTitle}>Video Chat Ended !!</p>\r\n                  <p className={classes.meetingEndTitle}>You Can Still Chat with Others !!</p></div>)\r\n              }\r\n              {video && peers && peers.map((peer,index) => createVideo(peer,index,\"380px\",classes.child, classes.writeName))}\r\n            </div>\r\n            ) : (\r\n              <div className={classes.parentbig}>\r\n              {\r\n                video ?\r\n                (<div className={classes.childbig}>\r\n                  {\r\n                    userVideoAudio['localUser'].video ? null : (<div className={classes.writeNamebig}>{currentUser}</div>)\r\n                  }\r\n                  <video style={{backgroundSize: \"cover\", overflow: \"hidden\", width: \"340px\"}} ref={userVideoRef} autoPlay muted></video>\r\n                  </div>\r\n                ) : (null)\r\n              }\r\n              {video && peers && peers.map((peer,index) => createVideo(peer,index,\"340px\",classes.childbig,classes.writeNamebig))}\r\n            </div>\r\n            )\r\n          }\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n        <ChatOption roomID={roomID} />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Room;\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Main from './components/Main/Main';\r\nimport Room from './components/Room/Room'\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Main} />\r\n          <Route exact path=\"/room/:roomID\" component={Room} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}